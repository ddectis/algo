<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../style/style.css?3" />
     <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Merge Sort</title>
    <title></title>
</head>
<body>
    <div class="container">
        
        <div class="title">
            <h2>A JavaScript implementation of the Merge Sort Algorithm</h2>
            
        </div>
    
        <div>
            <div class="text-inputs">
                <div class="input-block">
                    <label for="numbers-input">Provide a comma separated list of numbers to sort from low to high:</label>
                    <textarea type="text" id="numbers-input" name="numbers-input" placeholder="356, 746, 264, 569, 949, 895, 125, 455"></textarea>
                </div>
                <button id="execute-button">Execute</button>
                <br/>
                <smaller>An example number list has been provided</smaller>
            </div>
            <div class="results-container" id="results">
                
            </div>
        </div>
            <a class="go-back-link" href="../../index.html"><< Go Back To Algorithm Sandbox</a>
        
            <div class="algo-description">
                <h2>Merge Sort Algorithm Explanation</h2>
                <ul>
                    <li>Merge Sort works on the principle of Divide and Conquer. </li>
                    <li>First, the array of numbers provided is split in half recursively until we split each chunk down to one item</li>
                    <li>Once we have individual values, we merge them together in pairs, comparing values as we do so</li>
                    <li>In the first step, two values are compared. The lower value is added to the results array first followed by the higher value</li>
                    <li>In subsequent steps, the merge process continues as the length of list fragments double. Values are compared iteratively and added into a larger results array</li>
                    <li>This process continues until we've rebuilt the list of numbers, this time in order from smallest to largest.</li>

                </ul>
            </div>

            <div class="code-block">
                <h2>Merge Sort Algorithm Code Example</h2>
                <div>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(51, 51, 51); color: rgb(255, 255, 255);"><span class="hljs-comment" style="color: rgb(136, 136, 136);">//USAGE: Call the mergeSort function with an array of numbers. This implementation is set up to allow users to input a list of </span>
<span class="hljs-comment" style="color: rgb(136, 136, 136);">//numbers as a usage example and then output the results to the page.</span>
<span class="hljs-comment" style="color: rgb(136, 136, 136);">//I also left a lot of console logs in here because it helped me better understand how this algorithm works.</span>

<span class="hljs-comment" style="color: rgb(136, 136, 136);">//create references to the pieces on the page that we'll need in order to grab the number list input and then put the result back on the page</span>
<span class="hljs-keyword" style="color: rgb(252, 194, 140);">const</span> resultsContainer = <span class="hljs-built_in" style="color: rgb(255, 255, 170);">document</span>.getElementById(<span class="hljs-string" style="color: rgb(162, 252, 162);">'results'</span>)
<span class="hljs-keyword" style="color: rgb(252, 194, 140);">const</span> executeButton = <span class="hljs-built_in" style="color: rgb(255, 255, 170);">document</span>.getElementById(<span class="hljs-string" style="color: rgb(162, 252, 162);">'execute-button'</span>);
<span class="hljs-keyword" style="color: rgb(252, 194, 140);">const</span> numberInput = <span class="hljs-built_in" style="color: rgb(255, 255, 170);">document</span>.getElementById(<span class="hljs-string" style="color: rgb(162, 252, 162);">'numbers-input'</span>)


<span class="hljs-keyword" style="color: rgb(252, 194, 140);">const</span> merge = (left, right) =&gt;{
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">let</span> result = [];
    <span class="hljs-built_in" style="color: rgb(255, 255, 170);">console</span>.log(<span class="hljs-string" style="color: rgb(162, 252, 162);">"merge called L: "</span> + left + <span class="hljs-string" style="color: rgb(162, 252, 162);">" R: "</span> + right)
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">while</span> (left.length &amp;&amp; right.length){
        <span class="hljs-comment" style="color: rgb(136, 136, 136);">//console.log("left and right have items")</span>
        <span class="hljs-keyword" style="color: rgb(252, 194, 140);">if</span> (left[<span class="hljs-number" style="color: rgb(211, 99, 99);">0</span>] &lt; right[<span class="hljs-number" style="color: rgb(211, 99, 99);">0</span>]){
            <span class="hljs-built_in" style="color: rgb(255, 255, 170);">console</span>.log(<span class="hljs-string" style="color: rgb(162, 252, 162);">"adding left: "</span> + left[<span class="hljs-number" style="color: rgb(211, 99, 99);">0</span>])
            result.push(left.shift())
            <span class="hljs-built_in" style="color: rgb(255, 255, 170);">console</span>.log(<span class="hljs-string" style="color: rgb(162, 252, 162);">"result: "</span> + result)
        } <span class="hljs-keyword" style="color: rgb(252, 194, 140);">else</span> {
            <span class="hljs-built_in" style="color: rgb(255, 255, 170);">console</span>.log(<span class="hljs-string" style="color: rgb(162, 252, 162);">"adding right: "</span> + right[<span class="hljs-number" style="color: rgb(211, 99, 99);">0</span>])
            result.push(right.shift())
            <span class="hljs-built_in" style="color: rgb(255, 255, 170);">console</span>.log(<span class="hljs-string" style="color: rgb(162, 252, 162);">"result: "</span> + result)
        }
    }

    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">if</span> (left.length){
        <span class="hljs-built_in" style="color: rgb(255, 255, 170);">console</span>.log(<span class="hljs-string" style="color: rgb(162, 252, 162);">"Left still has items "</span> + left)
        result.push(left[<span class="hljs-number" style="color: rgb(211, 99, 99);">0</span>])
        <span class="hljs-built_in" style="color: rgb(255, 255, 170);">console</span>.log(<span class="hljs-string" style="color: rgb(162, 252, 162);">"New Result: "</span> + result)
        left.shift()
    }
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">if</span> (right.length){
        <span class="hljs-built_in" style="color: rgb(255, 255, 170);">console</span>.log(<span class="hljs-string" style="color: rgb(162, 252, 162);">"Right still has items "</span> + right)
        result.push(right[<span class="hljs-number" style="color: rgb(211, 99, 99);">0</span>])
        <span class="hljs-built_in" style="color: rgb(255, 255, 170);">console</span>.log(<span class="hljs-string" style="color: rgb(162, 252, 162);">"New Result: "</span> + result)
        right.shift()
    }

    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">return</span> result
}

<span class="hljs-keyword" style="color: rgb(252, 194, 140);">const</span> mergeSort = items =&gt;{
    <span class="hljs-built_in" style="color: rgb(255, 255, 170);">console</span>.log(<span class="hljs-string" style="color: rgb(162, 252, 162);">"Merge Sort Called "</span> + items)
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">if</span> (items.length &lt;= <span class="hljs-number" style="color: rgb(211, 99, 99);">1</span>){
        <span class="hljs-built_in" style="color: rgb(255, 255, 170);">console</span>.log(<span class="hljs-string" style="color: rgb(162, 252, 162);">"Down to one item: "</span> + items)
        <span class="hljs-keyword" style="color: rgb(252, 194, 140);">return</span> items
    }
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">let</span> middleIndex = items.length / <span class="hljs-number" style="color: rgb(211, 99, 99);">2</span>
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">let</span> leftSplit = items.slice(<span class="hljs-number" style="color: rgb(211, 99, 99);">0</span>,middleIndex)
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">let</span> rightSplit = items.slice(middleIndex)
    <span class="hljs-built_in" style="color: rgb(255, 255, 170);">console</span>.log(<span class="hljs-string" style="color: rgb(162, 252, 162);">"Left Split: "</span> + leftSplit)
    <span class="hljs-built_in" style="color: rgb(255, 255, 170);">console</span>.log(<span class="hljs-string" style="color: rgb(162, 252, 162);">"Right Split: "</span> + rightSplit)

    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">let</span> leftSorted = mergeSort(leftSplit)
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">let</span> rightSorted = mergeSort(rightSplit)

    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">return</span> merge(leftSorted, rightSorted)
    
}

<span class="hljs-keyword" style="color: rgb(252, 194, 140);">const</span> clearResults = () =&gt;{
    resultsContainer.innerText = <span class="hljs-string" style="color: rgb(162, 252, 162);">''</span>
}

<span class="hljs-keyword" style="color: rgb(252, 194, 140);">const</span> printResult = results =&gt;{
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">if</span> (results.length &gt; <span class="hljs-number" style="color: rgb(211, 99, 99);">0</span>){
        resultsContainer.innerText = <span class="hljs-string" style="color: rgb(162, 252, 162);">"Sorted List: "</span> + results
    } <span class="hljs-keyword" style="color: rgb(252, 194, 140);">else</span> {
        resultsContainer.innerText = <span class="hljs-string" style="color: rgb(162, 252, 162);">"No numbers were detected. Did you enter a comma separated list of numbers?"</span>
    }
}

<span class="hljs-comment" style="color: rgb(136, 136, 136);">//attach an event listener to the execute button which will handle the logic of taking the user input, sorting it, and printing the result</span>
executeButton.addEventListener(<span class="hljs-string" style="color: rgb(162, 252, 162);">"click"</span>,<span class="hljs-function"><span class="hljs-keyword" style="color: rgb(252, 194, 140);">function</span>(<span class="hljs-params"></span>) </span>{
    clearResults(); <span class="hljs-comment" style="color: rgb(136, 136, 136);">//to begin with, ensure that the result container is empty. Otherwise if the user does 2+ executions without reloading the page, the old results will still be printed.</span>
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">let</span> inputValue = numberInput.value;     <span class="hljs-comment" style="color: rgb(136, 136, 136);">//grab the value input in the text box provided</span>
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">if</span> (!inputValue){                       <span class="hljs-comment" style="color: rgb(136, 136, 136);">// check to see if a value was indeed entered, if not, use the placeholder</span>
        inputValue = <span class="hljs-string" style="color: rgb(162, 252, 162);">'356, 746, 264, 569, 949, 895, 125, 455'</span>
    }
    <span class="hljs-comment" style="color: rgb(136, 136, 136);">//map the comma separated list provided into an array and then filter out any NaN values</span>
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">const</span> filteredArray = inputValue.split(<span class="hljs-string" style="color: rgb(162, 252, 162);">','</span>).map(<span class="hljs-built_in" style="color: rgb(255, 255, 170);">Number</span>).filter(num =&gt; !<span class="hljs-built_in" style="color: rgb(255, 255, 170);">isNaN</span>(num))
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">let</span> result = mergeSort(filteredArray) <span class="hljs-comment" style="color: rgb(136, 136, 136);">//sort the values</span>
    printResult(result) <span class="hljs-comment" style="color: rgb(136, 136, 136);">// print them</span>
    <span class="hljs-built_in" style="color: rgb(255, 255, 170);">console</span>.log(result) <span class="hljs-comment" style="color: rgb(136, 136, 136);">// I decided to leave all of the console logs in this script as it helped me understaned the flow of this algorithm</span>
})



</pre>
                </div>
            </div>

            <a class="go-back-link" href="../../index.html"><< Go Back To Algorithm Sandbox</a>
        </div>
    </div>
    

    <script type="module" src="../scripts/merge.js"></script>
</body>
</html>