<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../style/style.css?3" />
     <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Merge Sort</title>
    <title></title>
</head>
<body>
    <div class="container">
        
        <div class="title">
            <h2>A JavaScript implementation of the Merge Sort Algorithm</h2>
            
        </div>
    
        <div>
            <div class="text-inputs">
                <div class="input-block">
                    <label for="numbers-input">Provide a comma separated list of numbers to sort from low to high:</label>
                    <textarea type="text" id="numbers-input" name="numbers-input" placeholder="356, 746, 264, 569, 949, 895, 125, 455"></textarea>
                </div>
                <button id="execute-button">Execute</button>
                <br/>
                <smaller>An example number list has been provided</smaller>
            </div>
            <div class="results-container" id="results">
                
            </div>
        </div>
            <a class="go-back-link" href="../../index.html"><< Go Back To Algorithm Sandbox</a>
        
            <div class="algo-description">
                <h2>Merge Sort Algorithm Explanation</h2>
                <ul>
                    <li>Merge Sort works on the principle of Divide and Conquer. </li>
                    <li>First, the array of numbers provided is split in half recursively until we split each chunk down to one item</li>
                    <li>Once we have individual values, we merge them together in pairs, comparing values as we do so</li>
                    <li>In the first step, two values are compared. The lower value is added to the results array first followed by the higher value</li>
                    <li>In subsequent steps, the merge process continues as the length of list fragments double. Values are compared iteratively and added into a larger results array</li>
                    <li>This process continues until we've rebuilt the list of numbers, this time in order from smallest to largest.</li>

                </ul>
            </div>

            <div class="code-block">
                <h2>Merge Sort Algorithm Code Example</h2>
                <div>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(51, 51, 51); color: rgb(255, 255, 255);">const merge = (left, right) =&gt;{
    <span class="hljs-built_in" style="color: rgb(255, 255, 170);">let</span> result = [];
    console.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">log</span>(<span class="hljs-string" style="color: rgb(162, 252, 162);">"merge called L: "</span> + left + <span class="hljs-string" style="color: rgb(162, 252, 162);">" R: "</span> + right)
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">while</span> (left.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">length</span> &amp;&amp; right.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">length</span>){
        //console.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">log</span>(<span class="hljs-string" style="color: rgb(162, 252, 162);">"left and right have items"</span>)
        <span class="hljs-keyword" style="color: rgb(252, 194, 140);">if</span> (left[<span class="hljs-number" style="color: rgb(211, 99, 99);">0</span>] &lt; right[<span class="hljs-number" style="color: rgb(211, 99, 99);">0</span>]){
            console.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">log</span>(<span class="hljs-string" style="color: rgb(162, 252, 162);">"adding left: "</span> + left[<span class="hljs-number" style="color: rgb(211, 99, 99);">0</span>])
            result.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">push</span>(left.shift())
            console.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">log</span>(<span class="hljs-string" style="color: rgb(162, 252, 162);">"result: "</span> + result)
        } <span class="hljs-keyword" style="color: rgb(252, 194, 140);">else</span> {
            console.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">log</span>(<span class="hljs-string" style="color: rgb(162, 252, 162);">"adding right: "</span> + right[<span class="hljs-number" style="color: rgb(211, 99, 99);">0</span>])
            result.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">push</span>(right.shift())
            console.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">log</span>(<span class="hljs-string" style="color: rgb(162, 252, 162);">"result: "</span> + result)
        }
    }

    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">if</span> (left.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">length</span>){
        console.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">log</span>(<span class="hljs-string" style="color: rgb(162, 252, 162);">"Left still has items "</span> + left)
        result.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">push</span>(left[<span class="hljs-number" style="color: rgb(211, 99, 99);">0</span>])
        console.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">log</span>(<span class="hljs-string" style="color: rgb(162, 252, 162);">"New Result: "</span> + result)
        left.shift()
    }
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">if</span> (right.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">length</span>){
        console.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">log</span>(<span class="hljs-string" style="color: rgb(162, 252, 162);">"Right still has items "</span> + right)
        result.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">push</span>(right[<span class="hljs-number" style="color: rgb(211, 99, 99);">0</span>])
        console.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">log</span>(<span class="hljs-string" style="color: rgb(162, 252, 162);">"New Result: "</span> + result)
        right.shift()
    }

    <span class="hljs-built_in" style="color: rgb(255, 255, 170);">return</span> result
}

const mergeSort = items =&gt;{
    console.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">log</span>(<span class="hljs-string" style="color: rgb(162, 252, 162);">"Merge Sort Called "</span> + items)
    <span class="hljs-keyword" style="color: rgb(252, 194, 140);">if</span> (items.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">length</span> &lt;= <span class="hljs-number" style="color: rgb(211, 99, 99);">1</span>){
        console.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">log</span>(<span class="hljs-string" style="color: rgb(162, 252, 162);">"Down to one item: "</span> + items)
        <span class="hljs-built_in" style="color: rgb(255, 255, 170);">return</span> items
    }
    <span class="hljs-built_in" style="color: rgb(255, 255, 170);">let</span> middleIndex = items.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">length</span> / <span class="hljs-number" style="color: rgb(211, 99, 99);">2</span>
    <span class="hljs-built_in" style="color: rgb(255, 255, 170);">let</span> leftSplit = items.slice(<span class="hljs-number" style="color: rgb(211, 99, 99);">0</span>,middleIndex)
    <span class="hljs-built_in" style="color: rgb(255, 255, 170);">let</span> rightSplit = items.slice(middleIndex)
    console.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">log</span>(<span class="hljs-string" style="color: rgb(162, 252, 162);">"Left Split: "</span> + leftSplit)
    console.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">log</span>(<span class="hljs-string" style="color: rgb(162, 252, 162);">"Right Split: "</span> + rightSplit)

    <span class="hljs-built_in" style="color: rgb(255, 255, 170);">let</span> leftSorted = mergeSort(leftSplit)
    <span class="hljs-built_in" style="color: rgb(255, 255, 170);">let</span> rightSorted = mergeSort(rightSplit)

    <span class="hljs-built_in" style="color: rgb(255, 255, 170);">return</span> merge(leftSorted, rightSorted)
    
}

<span class="hljs-built_in" style="color: rgb(255, 255, 170);">let</span> list = [<span class="hljs-number" style="color: rgb(211, 99, 99);">356</span>, <span class="hljs-number" style="color: rgb(211, 99, 99);">746</span>, <span class="hljs-number" style="color: rgb(211, 99, 99);">264</span>, <span class="hljs-number" style="color: rgb(211, 99, 99);">569</span>, <span class="hljs-number" style="color: rgb(211, 99, 99);">949</span>, <span class="hljs-number" style="color: rgb(211, 99, 99);">895</span>, <span class="hljs-number" style="color: rgb(211, 99, 99);">125</span>, <span class="hljs-number" style="color: rgb(211, 99, 99);">455</span>]

<span class="hljs-built_in" style="color: rgb(255, 255, 170);">let</span> result = mergeSort(list)

console.<span class="hljs-built_in" style="color: rgb(255, 255, 170);">log</span>(result)</pre>
                </div>
            </div>

            <a class="go-back-link" href="../../index.html"><< Go Back To Algorithm Sandbox</a>
        </div>
    </div>
    

    <script type="module" src="../scripts/merge.js"></script>
</body>
</html>